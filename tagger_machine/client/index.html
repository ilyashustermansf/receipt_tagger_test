<!DOCTYPE html>
<html>
<head>
  <title>Message Classifier</title>
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,500,700,400italic|Material+Icons">
  <meta charset="utf-8">
    <meta content="width=device-width,initial-scale=1,minimal-ui" name="viewport">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic|Material+Icons">
    <link rel="stylesheet" href="https://unpkg.com/vue-material@beta/dist/vue-material.min.css">
    <link rel="stylesheet" href="https://unpkg.com/vue-material@beta/dist/theme/default.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css"
      integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
        <script src="https://unpkg.com/vue"></script>
    <script src="https://unpkg.com/vue-material@beta"></script>
</head>
<body>

<div class="text-center">

    <div id="message_content">
        <h1>{{title}}</h1>
        <div >
            <iframe id="iframe_message" onload="iframeLoaded()" :src="messageDomain" width="1000" ></iframe>
        </div>
    </div>

   <div id="app">
        <span class="align-middle">
       <md-button v-on:click="sendAnswerYes" class="md-primary">Yes</md-button>
       <md-button v-on:click="sendAnswerNo" class="md-primary">No</md-button>
        </span>
    </div>

</div>
<script type="text/javascript">
  function iframeLoaded() {
      var iFrameID = document.getElementById('idIframe');
      if(iFrameID) {
            // here you can make the height, I delete it first, then I make it again
            iFrameID.height = "";
            iFrameID.height = iFrameID.contentWindow.document.body.scrollHeight + "px";
            iFrameID.width = iFrameID.contentWindow.document.body.scrollWidth + "px";
            console.log("hello!!")
      }
  }
</script>
    <script>
      Vue.use(VueMaterial.default);
        var message_element = new Vue({
            el: '#message_content',
            data: {
                title: 'Message Classifier',
                messageDomain: 'https://getbootstrap.com'
            }
        });

      var app = new Vue({
        el: '#app',
                    methods: {
                        sendAnswerYes: function () {
                            // TODO send answer message_id + yes/no
                            // TODO load next message get next iframe to display
                            console.log("answered yes");
                        this.nextMessage();
                        },
                        sendAnswerNo: function () {
                            console.log("answered no");
                            this.nextMessage();
                        },
                        nextMessage: function (){
                            console.log("loading next message...");
                            message_element.messageDomain += 'https://vuejs.org';
                        }
                    }
      });

    </script>
</body>
</html>